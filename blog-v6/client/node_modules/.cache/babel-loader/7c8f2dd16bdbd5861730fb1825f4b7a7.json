{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/NEU /self-project1/covid/v1/blog-v6/client/src/containers/posts/CreateCommentPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Validate from \"../../components/form/Validate\";\nimport { connect } from \"react-redux\";\nimport CommentForm from \"../../components/posts/comment/CommentForm\";\nimport { createComment } from \"../../actions/commentActions\";\nimport { getPostByID } from \"../../actions/postActions\";\n\nconst CreateCommentPage = ({\n  post,\n  errors,\n  createComment,\n  loading,\n  history,\n  getPostByID,\n  match\n}) => {\n  const [comment, setComment] = useState({\n    body: \"\",\n    errors: {}\n  });\n  useEffect(() => {\n    setComment(comment => {\n      return { ...comment,\n        errors\n      };\n    });\n  }, [errors]);\n  useEffect(() => {\n    getPostByID(match.params.id);\n  }, [match, getPostByID]);\n\n  const handleChange = e => {\n    setComment({ ...comment,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleBlur = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const error = { ...comment.errors,\n      ...Validate(name, value).errors\n    };\n    setComment({ ...comment,\n      errors: { ...error\n      }\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      body\n    } = comment;\n    createComment(comment, history, post._id);\n  };\n\n  return /*#__PURE__*/React.createElement(CommentForm, {\n    loading: loading,\n    comment: comment,\n    postId: post._id,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  });\n};\n\nconst mapStateToProps = state => ({\n  loading: state.post.postLoading,\n  errors: state.errors,\n  post: state.post.post\n});\n\nCreateCommentPage.propTypes = {\n  createComment: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired,\n  loading: PropTypes.bool.isRequired,\n  getPostByID: PropTypes.func.isRequired\n};\nexport default connect(mapStateToProps, {\n  getPostByID,\n  createComment\n})(CreateCommentPage);","map":{"version":3,"sources":["/Users/mac/Documents/NEU /self-project1/covid/v1/blog-v6/client/src/containers/posts/CreateCommentPage.js"],"names":["React","useState","useEffect","PropTypes","Validate","connect","CommentForm","createComment","getPostByID","CreateCommentPage","post","errors","loading","history","match","comment","setComment","body","params","id","handleChange","e","target","name","value","handleBlur","error","handleSubmit","preventDefault","_id","mapStateToProps","state","postLoading","propTypes","func","isRequired","object","bool"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Validate from \"../../components/form/Validate\";\nimport { connect } from \"react-redux\";\nimport CommentForm from \"../../components/posts/comment/CommentForm\";\nimport { createComment } from \"../../actions/commentActions\";\nimport { getPostByID } from \"../../actions/postActions\";\n\nconst CreateCommentPage = ({ post, errors, createComment, loading, history, getPostByID,\n  match, }) => {\n  const [comment, setComment] = useState({\n    body: \"\",\n    errors: {}\n  });\n\n  useEffect(() => {\n    setComment(comment => {\n      return { ...comment, errors };\n    });\n  }, [errors]);\n\n  useEffect(() => {\n    getPostByID(match.params.id);\n  }, [match, getPostByID]);\n\n  const handleChange = e => {\n    setComment({\n      ...comment,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleBlur = e => {\n    const { name, value } = e.target;\n    const error = { ...comment.errors, ...Validate(name, value).errors };\n    setComment({ ...comment, errors: { ...error } });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const { body } = comment;\n    createComment(comment, history, post._id);\n\n  };\n\n  return (\n      <CommentForm\n          loading={loading}\n          comment={comment}\n          postId={post._id}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          onSubmit={handleSubmit}\n      />\n  );\n};\n\nconst mapStateToProps = state => ({\n  loading: state.post.postLoading,\n  errors: state.errors,\n  post: state.post.post\n});\n\n\nCreateCommentPage.propTypes = {\n  createComment: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired,\n  loading: PropTypes.bool.isRequired,\n  getPostByID: PropTypes.func.isRequired,\n};\n\nexport default connect(\n    mapStateToProps,\n    { getPostByID, createComment }\n)(CreateCommentPage);\n"]},"metadata":{},"sourceType":"module"}