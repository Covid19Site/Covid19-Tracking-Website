{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/NEU /self-project1/covid/v1/blog-v6/client/src/App.js\";\nimport React from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport LoginPage from \"./containers/auth/LoginPage\";\nimport SignUpPage from \"./containers/auth/SignUpPage\";\nimport ProgressBar from \"./containers/layout/ProgressBar\";\nimport Navbar from \"./containers/layout/Navbar\";\nimport Landing from \"./components/layout/Landing\";\nimport BlogPage from \"./containers/BlogPage\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\nimport ViewPostPage from \"./containers/posts/ViewPostPage\";\nimport CreatePostPage from \"./containers/posts/CreatePostPage\";\nimport UpdatePostPage from \"./containers/posts/UpdatePostPage\";\nimport CreateCommentPage from \"./containers/posts/CreateCommentPage\";\n\nif (localStorage.jwtToken) {\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  const decoded = jwt_decode(token);\n  store.dispatch(setCurrentUser(decoded));\n  const currentTime = Date.now() / 1000;\n\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n    window.location.href = \"./loginPage\";\n  }\n}\n\nconst App = () => {\n  return /*#__PURE__*/React.createElement(Provider, {\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(ProgressBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: BlogPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    component: LoginPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/signup\",\n    component: SignUpPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/post/create\",\n    component: CreatePostPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/post/:id/create_comment\",\n    component: CreateCommentPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/post/update/:id\",\n    component: UpdatePostPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/post/:id\",\n    component: ViewPostPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Redirect, {\n    from: \"*\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 16\n    }\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/mac/Documents/NEU /self-project1/covid/v1/blog-v6/client/src/App.js"],"names":["React","BrowserRouter","Route","Switch","Redirect","Provider","store","jwt_decode","setAuthToken","setCurrentUser","logoutUser","LoginPage","SignUpPage","ProgressBar","Navbar","Landing","BlogPage","PrivateRoute","ViewPostPage","CreatePostPage","UpdatePostPage","CreateCommentPage","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\n\nimport LoginPage from \"./containers/auth/LoginPage\";\nimport SignUpPage from \"./containers/auth/SignUpPage\";\n\nimport ProgressBar from \"./containers/layout/ProgressBar\";\nimport Navbar from \"./containers/layout/Navbar\";\nimport Landing from \"./components/layout/Landing\";\nimport BlogPage from \"./containers/BlogPage\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\n\nimport ViewPostPage from \"./containers/posts/ViewPostPage\";\nimport CreatePostPage from \"./containers/posts/CreatePostPage\";\nimport UpdatePostPage from \"./containers/posts/UpdatePostPage\";\nimport CreateCommentPage from \"./containers/posts/CreateCommentPage\";\n\nif (localStorage.jwtToken) {\n   const token = localStorage.jwtToken;\n   setAuthToken(token);\n   const decoded = jwt_decode(token);\n   store.dispatch(setCurrentUser(decoded));\n   const currentTime = Date.now() / 1000;\n   if (decoded.exp < currentTime) {\n      store.dispatch(logoutUser());\n      window.location.href = \"./loginPage\";\n   }\n}\n\nconst App = () => {\n   return (\n      <Provider store={store}>\n         <BrowserRouter>\n            <ProgressBar />\n            <Navbar />\n            <Switch>\n                <Route exact path=\"/\" component={BlogPage} />\n               {/*<Route path=\"/\" exact component={Landing} />*/}\n               <Route path=\"/login\" component={LoginPage} />\n               <Route path=\"/signup\" component={SignUpPage} />\n               {/*<PrivateRoute exact path=\"/blog\" component={BlogPage} />*/}\n               <PrivateRoute\n                  exact\n                  path=\"/post/create\"\n                  component={CreatePostPage}\n               />\n              <PrivateRoute\n                  exact\n                  path=\"/post/:id/create_comment\"\n                  component={CreateCommentPage}\n              />\n               <PrivateRoute\n                  exact\n                  path=\"/post/update/:id\"\n                  component={UpdatePostPage}\n               />\n\n              {/*<Route*/}\n              {/*    exact*/}\n              {/*    path=\"/blog/post/create\"*/}\n              {/*    component={CreatePostPage}*/}\n              {/*/>*/}\n              {/*<Route*/}\n              {/*    exact*/}\n              {/*    path=\"/blog/post/update/:id\"*/}\n              {/*    component={UpdatePostPage}*/}\n              {/*/>*/}\n               <Route exact path=\"/post/:id\" component={ViewPostPage} />\n               {/*<Route path=\"/blog/:author\" component={BlogPage} />*/}\n               <Redirect from=\"*\" to=\"/\" />\n            </Switch>\n         </BrowserRouter>\n      </Provider>\n   );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}