{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_COMMENT, GET_COMMENT, TOGGLE_POSTS_LOADING, TOGGLE_POST_LOADING, GET_POST } from \"./types\";\nimport { setErrors, clearErrors } from \"./errorActions\"; // '/api/posts/:id/comments'\n\nexport const createComment = (commentData, history, postId) => dispatch => {\n  // dispatch(togglePostLoading());\n  // console.log(commentData);\n  // console.log(\"commentData:\"+ JSON.stringify(commentData));\n  // console.log(\"history:\"+ JSON.stringify(history));\n  // console.log(\"postid:\"+postId);\n  // app.use('/api/comments', comments);\n  axios.post(`/api/comments/${postId}/create`, commentData) // .post(`/api/posts/${postId}/comments/create`, commentData)\n  .then(res => {\n    // console.log(\"send:\"+res)\n    dispatch({\n      type: CREATE_COMMENT,\n      payload: res.data\n    }); // dispatch(togglePostLoading());\n\n    history.push(`/blog/post/${postId}`);\n  }).catch(err => {\n    // console.log(err)\n    dispatch(setErrors(err.response.data)); // dispatch(togglePostLoading());\n  });\n}; // router.get('/get/:id', (req, res) => {\n\nexport const getCommentByID = id => dispatch => {\n  dispatch(togglePostLoading());\n  console.log(id);\n  axios.get(`/api/comments/get/${id}`).then(res => {\n    console.log(res);\n    dispatch({\n      type: GET_COMMENT,\n      payload: res.data\n    });\n    dispatch(clearErrors());\n    dispatch(togglePostLoading());\n  }).catch(err => {\n    dispatch(setErrors(err.response.data));\n    dispatch(togglePostLoading());\n  });\n};\nexport const togglePostLoading = () => {\n  return {\n    type: TOGGLE_POST_LOADING\n  };\n};\nexport const togglePostsLoading = () => {\n  return {\n    type: TOGGLE_POSTS_LOADING\n  };\n};","map":{"version":3,"sources":["/Users/mac/Documents/NEU /self-project1/covid/susan/v6/client/src/actions/commentActions.js"],"names":["axios","CREATE_COMMENT","GET_COMMENT","TOGGLE_POSTS_LOADING","TOGGLE_POST_LOADING","GET_POST","setErrors","clearErrors","createComment","commentData","history","postId","dispatch","post","then","res","type","payload","data","push","catch","err","response","getCommentByID","id","togglePostLoading","console","log","get","togglePostsLoading"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,cADF,EAEIC,WAFJ,EAGEC,oBAHF,EAIEC,mBAJF,EAIuBC,QAJvB,QAKO,SALP;AAOA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,gBAAvC,C,CAEA;;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,WAAD,EAAcC,OAAd,EAAuBC,MAAvB,KAAkCC,QAAQ,IAAI;AACzE;AACA;AACA;AACA;AACA;AACA;AACAZ,EAAAA,KAAK,CACJa,IADD,CACO,iBAAgBF,MAAO,SAD9B,EACwCF,WADxC,EAEA;AAFA,GAGCK,IAHD,CAGMC,GAAG,IAAI;AACX;AACAH,IAAAA,QAAQ,CAAC;AACPI,MAAAA,IAAI,EAAEf,cADC;AAEPgB,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,KAAD,CAAR,CAFW,CAOX;;AACAR,IAAAA,OAAO,CAACS,IAAR,CAAc,cAAaR,MAAO,EAAlC;AACD,GAZD,EAaCS,KAbD,CAaOC,GAAG,IAAI;AACZ;AACAT,IAAAA,QAAQ,CAACN,SAAS,CAACe,GAAG,CAACC,QAAJ,CAAaJ,IAAd,CAAV,CAAR,CAFY,CAGZ;AACD,GAjBD;AAkBD,CAzBM,C,CA4BP;;AACA,OAAO,MAAMK,cAAc,GAAIC,EAAD,IAAQZ,QAAQ,IAAI;AAChDA,EAAAA,QAAQ,CAACa,iBAAiB,EAAlB,CAAR;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,EAAZ;AACAxB,EAAAA,KAAK,CACJ4B,GADD,CACM,qBAAoBJ,EAAG,EAD7B,EAECV,IAFD,CAEMC,GAAG,IAAI;AACXW,IAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAZ;AACAH,IAAAA,QAAQ,CAAC;AACPI,MAAAA,IAAI,EAAEd,WADC;AAEPe,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,KAAD,CAAR;AAIAN,IAAAA,QAAQ,CAACL,WAAW,EAAZ,CAAR;AACAK,IAAAA,QAAQ,CAACa,iBAAiB,EAAlB,CAAR;AACD,GAVD,EAYCL,KAZD,CAYOC,GAAG,IAAI;AACZT,IAAAA,QAAQ,CAACN,SAAS,CAACe,GAAG,CAACC,QAAJ,CAAaJ,IAAd,CAAV,CAAR;AACAN,IAAAA,QAAQ,CAACa,iBAAiB,EAAlB,CAAR;AACD,GAfD;AAgBD,CAnBM;AAqBP,OAAO,MAAMA,iBAAiB,GAAG,MAAM;AACrC,SAAO;AACLT,IAAAA,IAAI,EAAEZ;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMyB,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLb,IAAAA,IAAI,EAAEb;AADD,GAAP;AAGD,CAJM","sourcesContent":["import axios from \"axios\";\nimport {\n  CREATE_COMMENT,\n    GET_COMMENT,\n  TOGGLE_POSTS_LOADING,\n  TOGGLE_POST_LOADING, GET_POST,\n} from \"./types\";\n\nimport { setErrors, clearErrors } from \"./errorActions\";\n\n// '/api/posts/:id/comments'\n\nexport const createComment = (commentData, history, postId) => dispatch => {\n  // dispatch(togglePostLoading());\n  // console.log(commentData);\n  // console.log(\"commentData:\"+ JSON.stringify(commentData));\n  // console.log(\"history:\"+ JSON.stringify(history));\n  // console.log(\"postid:\"+postId);\n  // app.use('/api/comments', comments);\n  axios\n  .post(`/api/comments/${postId}/create`, commentData)\n  // .post(`/api/posts/${postId}/comments/create`, commentData)\n  .then(res => {\n    // console.log(\"send:\"+res)\n    dispatch({\n      type: CREATE_COMMENT,\n      payload: res.data\n    });\n\n    // dispatch(togglePostLoading());\n    history.push(`/blog/post/${postId}`);\n  })\n  .catch(err => {\n    // console.log(err)\n    dispatch(setErrors(err.response.data));\n    // dispatch(togglePostLoading());\n  });\n};\n\n\n// router.get('/get/:id', (req, res) => {\nexport const getCommentByID = (id) => dispatch => {\n  dispatch(togglePostLoading());\n  console.log(id);\n  axios\n  .get(`/api/comments/get/${id}`)\n  .then(res => {\n    console.log(res)\n    dispatch({\n      type: GET_COMMENT,\n      payload: res.data\n    });\n    dispatch(clearErrors());\n    dispatch(togglePostLoading());\n  })\n\n  .catch(err => {\n    dispatch(setErrors(err.response.data));\n    dispatch(togglePostLoading());\n  });\n};\n\nexport const togglePostLoading = () => {\n  return {\n    type: TOGGLE_POST_LOADING\n  };\n};\n\nexport const togglePostsLoading = () => {\n  return {\n    type: TOGGLE_POSTS_LOADING\n  };\n};"]},"metadata":{},"sourceType":"module"}