<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home Page</title>
  <link rel="stylesheet" type="text/css"
        href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script
      src="https://cdnjs.cloudflare.com/ajax/libs/react/16.13.1/umd/react.development.js"></script>
  <script
      src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.13.1/umd/react-dom.development.js"></script>
  <script
      src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                data-target="#bs-nav-demo" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand">
          <img alt="Brand"
               src="https://web.northeastern.edu/sds/CEWS/images/NEUlogo.png" , height=100%>
        </a>
        <a href="home.html" class="navbar-brand">Covid-19</a>
      </div>

      <div class="collapse navbar-collapse" id="bs-nav-demo">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#">About Us</a></li>
          <li><a href="#">Sign Up</a></li>
          <li><a href="#">Login</a></li>
        </ul>
      </div>

    </div>
  </div>
</nav>

<div class="container">
  <div class="row">
    <div class="col-sm-6 col-md-3">
      <div class="list-group">
        <a href="data.html" class="list-group-item">
          <h4 class="list-group-item-heading">Data</h4>
          <!--          <p class="list-group-item-text">...</p>-->
        </a>
      </div>
    </div>
    <div class="col-sm-6 col-md-3">
      <div class="list-group">
        <a href="discussion.html" class="list-group-item">
          <h4 class="list-group-item-heading">Discussion</h4>
          <!--          <p class="list-group-item-text">...</p>-->
        </a>
      </div>
    </div>
    <div class="col-sm-6 col-md-3">
      <div class="list-group">
        <a href="news.html" class="list-group-item">
          <h4 class="list-group-item-heading">News</h4>
          <!--          <p class="list-group-item-text">...</p>-->
        </a>
      </div>
    </div>
    <div class="col-sm-6 col-md-3">
      <div class="list-group">
        <a href="tips.html" class="list-group-item">
          <h4 class="list-group-item-heading">Tips</h4>
          <!--          <p class="list-group-item-text">...</p>-->
        </a>
      </div>
    </div>

  </div>

</div>

<div class="container">
  <div class="row">
    <!--  data board-->
    <div class="col-sm-6 col-md-3">
      <div class="thumbnail">
        <img
            src="https://cdn4.iconfinder.com/data/icons/business-startup-volume-1/512/ANALYSIS-512.png"
            alt="...">
        <div class="caption">
          <!--          <h3>Data</h3>-->
          <!--          <p>...</p>-->
          <p>
            <a href="data.html" class="btn btn-danger center" role="button">Data</a>
            <!--                        <a href="#" class="btn btn-default" role="button">Button</a>-->
          </p>
        </div>
      </div>
    </div>
    <!--  Discussion board-->
    <div class="col-sm-6 col-md-3">
      <div class="thumbnail">
        <img
            src="https://cdn1.iconfinder.com/data/icons/business-01-filled-outline/64/Chat-communication-discussion-forum-message-team-512.png"
            alt="...">
        <div class="caption">
          <!--          <h3>Discussion</h3>-->
          <!--          <p>...</p>-->
          <p>
            <a href="discussion.html" class="btn btn-warning center" role="button">Discussion</a>
            <!--            <a href="#" class="btn btn-default" role="button">Button</a>-->
          </p>
        </div>
      </div>
    </div>
    <!--  News board-->
    <div class="col-sm-6 col-md-3">
      <div class="thumbnail">
        <img
            src="https://cdn2.iconfinder.com/data/icons/scenarium-vol-2-1/128/013_news_newspaper_global_articles_feed-512.png"
            alt="...">
        <div class="caption">
          <!--          <h3>News</h3>-->
          <!--          <p>...</p>-->
          <p>
            <a href="news.html" class="btn btn-info center" role="button">News</a>
            <!--            <a href="#" class="btn btn-default" role="button">Button</a>-->
          </p>
        </div>
      </div>
    </div>
    <!--  Tips board-->
    <div class="col-sm-6 col-md-3">
      <div class="thumbnail">
        <img
            src="https://cdn0.iconfinder.com/data/icons/furniture-129/64/Bulb-light-light_bulb-tips-512.png"
            alt="...">
        <div class="caption">
          <!--          <h3>Tips</h3>-->
          <!--          <p>...</p>-->
          <p>
            <a href="tips.html" class="btn btn-success center" role="button">Tips</a>
            <!--            <a href="#" class="btn btn-default" role="button">Button</a>-->
          </p>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="container">


  <div class="row">
    <div class="col-sm-12 col-md-6 col-lg-12 ">
      <div class="input-group input-group-lg">
        <input type="text" class="form-control" placeholder="Search for...">
        <span class="input-group-btn">
        <button class="btn btn-default" type="button">Go!</button>
      </span>
      </div><!-- /input-group -->
    </div><!-- /.col-lg-6 -->
  </div>

  <div class="row">
<!--    Implement rank using React-->
    <div id="root" class="col-sm-6 col-md-3">
      <script type="text/babel">
        // Shows rank list
        function ShowRank(props) {
          const rankList = (
              <ul className="list-group">
                {props.posts.map((post) =>
                    <li className="list-group-item rank-list" key={post.index}>
                      {<span className="badge">{post.confirmedCases}</span>}
                      {post.country}
                    </li>
                )}
              </ul>
          );
          return (
              <div>
                <h3 id="rank">Rank</h3>
                {rankList}
              </div>
          );
        }
        // Reads data file
        function ReadTextFile(file, callback) {
          let rawFile = new XMLHttpRequest();
          rawFile.overrideMimeType("application/json");
          rawFile.open("GET", file, true);
          rawFile.onreadystatechange = function () {
            if (rawFile.readyState === 4 && rawFile.status == "200") {
              callback(rawFile.responseText);
            }
          };
          rawFile.send(null);
         }
        // Sorts confirmed case of countries by decreasing order
        function GetSortOrder(prop) {
          return function (a, b) {
            if (a[prop] > b[prop]) {
              return -1;
            } else if (a[prop] < b[prop]) {
              return 1;
            }
            return 0;
          }
        }

        const array = ReadTextFile("data.json", function (text) {
          let data = JSON.parse(text);
          data.sort(GetSortOrder("confirmedCases"));
          ReactDOM.render(
              <ShowRank posts={data}/>,
              document.getElementById('root')
          );
        });
        console.log(array);

        // const data = [{"country": "Indonesia", "confirmedCases": 78572},
        //   {"country": "Argentina", "confirmedCases": 106910},
        //   {"country": "US", "confirmedCases": 3431574},
        //   {"country": "India", "confirmedCases": 936181},
        //   {"country": "Germany", "confirmedCases": 200456},
        //   {"country": "Italy", "confirmedCases": 243344},
        //   {"country": "United Kingdom", "confirmedCases": 292931},
        //   {"country": "Brazil", "confirmedCases": 1926824},
        //   {"country": "China", "confirmedCases": 85226},
        //   {"country": "Peru", "confirmedCases": 333867},
        //   {"country": "Saudi Arabia", "confirmedCases": 237803},
        //   {"country": "Japan", "confirmedCases": 22437},
        //   {"country": "Russia", "confirmedCases": 738787},
        //   {"country": "Chile", "confirmedCases": 319493}
        // ];
        // console.log(data);
        ReactDOM.render(
            <ShowRank posts={data}/>,
            document.getElementById('root')
        );
      </script>

    </div>

     <div>
      <video class="col-sm-6 col-md-6" controls>
        <source src="../term1/data/covid19_FULLData.mp4" type="video/mp4">
      </video>
    </div>

    <div class="col-sm-6 col-md-3">
      <h3 id="news">Breaking News</h3>
      <ul class="list-group">
        <ul class="list-group">
          <li class="list-group-item">
            <strong>USA's Coronavirus Version Could be 10x More Contagious</strong>
            <p><small class="text-right">Jun 30, 2020 • 5:44 pm CDT</small></p>
          </li>
          <li class="list-group-item">
            <strong>Coronavirus Vaccines Must Be More Effective Than Flu Shots</strong>
            <p><small class="text-right">Jun 30, 2020 • 2:05 pm CDT</small></p>
          </li>
          <li class="list-group-item">
            <strong>Scotland On-Track to Eliminate Coronavirus</strong>
            <p><small class="text-right">Jun 30, 2020 • 1:41 pm CDT</small></p>
          </li>
          <li class="list-group-item">
            <strong>Americans Barred From Entering the EU for Nonessential Travel</strong>
            <p><small class="text-right">Jun 30, 2020 • 9:03 am CDT</small></p>
          </li>
        </ul>
      </ul>
    </div>
  </div>
</div>

<div class="container">
  <div class="col-lg-8 col-sm-6 col-md-3">
    <div class="row">

    </div><!-- /.row -->
  </div>


</div>


<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</body>
</html>