{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_COMMENT, GET_COMMENT, TOGGLE_POSTS_LOADING, TOGGLE_POST_LOADING, GET_POST } from \"./types\";\nimport { setErrors, clearErrors } from \"./errorActions\"; // '/api/posts/:id/comments'\n\nexport const createComment = (commentData, history, postId) => dispatch => {\n  // dispatch(togglePostLoading());\n  console.log(commentData);\n  console.log(\"commentData:\" + JSON.stringify(commentData));\n  console.log(\"history:\" + JSON.stringify(history));\n  console.log(\"postid:\" + postId); // app.use('/api/comments', comments);\n\n  axios.post(\"/api/comments/\".concat(postId, \"/create\"), commentData) // .post(`/api/posts/${postId}/comments/create`, commentData)\n  .then(res => {\n    // console.log(\"send:\"+res)\n    dispatch({\n      type: CREATE_COMMENT,\n      payload: res.data\n    });\n    dispatch(togglePostLoading());\n    history.push(\"/blog/post/\".concat(postId));\n  }).catch(err => {\n    // console.log(err)\n    dispatch(setErrors(err.response.data));\n    dispatch(togglePostLoading());\n  });\n}; // router.get('/get/:id', (req, res) => {\n\nexport const getCommentByID = id => dispatch => {\n  dispatch(togglePostLoading());\n  axios.get(\"/api/comments/get/\".concat(id)).then(res => {\n    console.log(res);\n    dispatch({\n      type: GET_COMMENT,\n      payload: res.data\n    });\n    dispatch(clearErrors());\n    dispatch(togglePostLoading());\n  }).catch(err => {\n    dispatch(setErrors(err.response.data));\n    dispatch(togglePostLoading());\n  });\n};\nexport const togglePostLoading = () => {\n  return {\n    type: TOGGLE_POST_LOADING\n  };\n};\nexport const togglePostsLoading = () => {\n  return {\n    type: TOGGLE_POSTS_LOADING\n  };\n};","map":{"version":3,"sources":["/Users/mac/Documents/NEU /self-project1/covid/susan/v5/v5/client/src/actions/commentActions.js"],"names":["axios","CREATE_COMMENT","GET_COMMENT","TOGGLE_POSTS_LOADING","TOGGLE_POST_LOADING","GET_POST","setErrors","clearErrors","createComment","commentData","history","postId","dispatch","console","log","JSON","stringify","post","then","res","type","payload","data","togglePostLoading","push","catch","err","response","getCommentByID","id","get","togglePostsLoading"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,cADF,EAEIC,WAFJ,EAGEC,oBAHF,EAIEC,mBAJF,EAIuBC,QAJvB,QAKO,SALP;AAOA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,gBAAvC,C,CAEA;;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,WAAD,EAAcC,OAAd,EAAuBC,MAAvB,KAAkCC,QAAQ,IAAI;AACzE;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYL,WAAZ;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAgBC,IAAI,CAACC,SAAL,CAAeP,WAAf,CAA5B;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAYC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAAxB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAUH,MAAtB,EALyE,CAMzE;;AACAX,EAAAA,KAAK,CACJiB,IADD,yBACuBN,MADvB,cACwCF,WADxC,EAEA;AAFA,GAGCS,IAHD,CAGMC,GAAG,IAAI;AACX;AACAP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAEnB,cADC;AAEPoB,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,KAAD,CAAR;AAKAV,IAAAA,QAAQ,CAACW,iBAAiB,EAAlB,CAAR;AACAb,IAAAA,OAAO,CAACc,IAAR,sBAA2Bb,MAA3B;AACD,GAZD,EAaCc,KAbD,CAaOC,GAAG,IAAI;AACZ;AACAd,IAAAA,QAAQ,CAACN,SAAS,CAACoB,GAAG,CAACC,QAAJ,CAAaL,IAAd,CAAV,CAAR;AACAV,IAAAA,QAAQ,CAACW,iBAAiB,EAAlB,CAAR;AACD,GAjBD;AAkBD,CAzBM,C,CA4BP;;AACA,OAAO,MAAMK,cAAc,GAAIC,EAAD,IAAQjB,QAAQ,IAAI;AAChDA,EAAAA,QAAQ,CAACW,iBAAiB,EAAlB,CAAR;AACAvB,EAAAA,KAAK,CACJ8B,GADD,6BAC0BD,EAD1B,GAECX,IAFD,CAEMC,GAAG,IAAI;AACXN,IAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACAP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAElB,WADC;AAEPmB,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,KAAD,CAAR;AAIAV,IAAAA,QAAQ,CAACL,WAAW,EAAZ,CAAR;AACAK,IAAAA,QAAQ,CAACW,iBAAiB,EAAlB,CAAR;AACD,GAVD,EAYCE,KAZD,CAYOC,GAAG,IAAI;AACZd,IAAAA,QAAQ,CAACN,SAAS,CAACoB,GAAG,CAACC,QAAJ,CAAaL,IAAd,CAAV,CAAR;AACAV,IAAAA,QAAQ,CAACW,iBAAiB,EAAlB,CAAR;AACD,GAfD;AAgBD,CAlBM;AAoBP,OAAO,MAAMA,iBAAiB,GAAG,MAAM;AACrC,SAAO;AACLH,IAAAA,IAAI,EAAEhB;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAM2B,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLX,IAAAA,IAAI,EAAEjB;AADD,GAAP;AAGD,CAJM","sourcesContent":["import axios from \"axios\";\nimport {\n  CREATE_COMMENT,\n    GET_COMMENT,\n  TOGGLE_POSTS_LOADING,\n  TOGGLE_POST_LOADING, GET_POST,\n} from \"./types\";\n\nimport { setErrors, clearErrors } from \"./errorActions\";\n\n// '/api/posts/:id/comments'\n\nexport const createComment = (commentData, history, postId) => dispatch => {\n  // dispatch(togglePostLoading());\n  console.log(commentData);\n  console.log(\"commentData:\"+ JSON.stringify(commentData));\n  console.log(\"history:\"+ JSON.stringify(history));\n  console.log(\"postid:\"+postId);\n  // app.use('/api/comments', comments);\n  axios\n  .post(`/api/comments/${postId}/create`, commentData)\n  // .post(`/api/posts/${postId}/comments/create`, commentData)\n  .then(res => {\n    // console.log(\"send:\"+res)\n    dispatch({\n      type: CREATE_COMMENT,\n      payload: res.data\n    });\n\n    dispatch(togglePostLoading());\n    history.push(`/blog/post/${postId}`);\n  })\n  .catch(err => {\n    // console.log(err)\n    dispatch(setErrors(err.response.data));\n    dispatch(togglePostLoading());\n  });\n};\n\n\n// router.get('/get/:id', (req, res) => {\nexport const getCommentByID = (id) => dispatch => {\n  dispatch(togglePostLoading());\n  axios\n  .get(`/api/comments/get/${id}`)\n  .then(res => {\n    console.log(res)\n    dispatch({\n      type: GET_COMMENT,\n      payload: res.data\n    });\n    dispatch(clearErrors());\n    dispatch(togglePostLoading());\n  })\n\n  .catch(err => {\n    dispatch(setErrors(err.response.data));\n    dispatch(togglePostLoading());\n  });\n};\n\nexport const togglePostLoading = () => {\n  return {\n    type: TOGGLE_POST_LOADING\n  };\n};\n\nexport const togglePostsLoading = () => {\n  return {\n    type: TOGGLE_POSTS_LOADING\n  };\n};"]},"metadata":{},"sourceType":"module"}