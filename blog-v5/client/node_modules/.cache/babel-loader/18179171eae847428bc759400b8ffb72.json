{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_COMMENT, TOGGLE_POSTS_LOADING, TOGGLE_POST_LOADING } from \"./types\";\nimport { setErrors, clearErrors } from \"./errorActions\"; // '/api/posts/:id/comments'\n\nexport const createComment = (commentData, history, postId) => dispatch => {\n  // dispatch(togglePostLoading());\n  console.log(commentData);\n  console.log(\"commentData:\" + JSON.stringify(commentData));\n  console.log(\"history:\" + JSON.stringify(history));\n  console.log(\"postid:\" + postId);\n  axios.post(\"/api/posts/\".concat(postId, \"/comments/create\"), commentData).then(res => {\n    // console.log(\"send:\"+res)\n    dispatch({\n      type: CREATE_COMMENT,\n      payload: res.data\n    });\n    dispatch(togglePostLoading());\n    history.push(\"/blog/post/\".concat(postId));\n  }).catch(err => {\n    // console.log(err)\n    dispatch(setErrors(err.response.data));\n    dispatch(togglePostLoading());\n  });\n};\nexport const togglePostLoading = () => {\n  return {\n    type: TOGGLE_POST_LOADING\n  };\n};\nexport const togglePostsLoading = () => {\n  return {\n    type: TOGGLE_POSTS_LOADING\n  };\n};","map":{"version":3,"sources":["/Users/mac/Documents/NEU /self-project1/covid/susan/v5/v5/client/src/actions/commentActions.js"],"names":["axios","CREATE_COMMENT","TOGGLE_POSTS_LOADING","TOGGLE_POST_LOADING","setErrors","clearErrors","createComment","commentData","history","postId","dispatch","console","log","JSON","stringify","post","then","res","type","payload","data","togglePostLoading","push","catch","err","response","togglePostsLoading"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACGC,cADH,EAEEC,oBAFF,EAGEC,mBAHF,QAIO,SAJP;AAMA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,gBAAvC,C,CAEA;;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,WAAD,EAAcC,OAAd,EAAuBC,MAAvB,KAAkCC,QAAQ,IAAI;AACzE;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYL,WAAZ;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAgBC,IAAI,CAACC,SAAL,CAAeP,WAAf,CAA5B;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAYC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAAxB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAUH,MAAtB;AACAT,EAAAA,KAAK,CACJe,IADD,sBACoBN,MADpB,uBAC8CF,WAD9C,EAECS,IAFD,CAEMC,GAAG,IAAI;AACX;AACAP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAEjB,cADC;AAEPkB,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,KAAD,CAAR;AAKAV,IAAAA,QAAQ,CAACW,iBAAiB,EAAlB,CAAR;AACAb,IAAAA,OAAO,CAACc,IAAR,sBAA2Bb,MAA3B;AACD,GAXD,EAYCc,KAZD,CAYOC,GAAG,IAAI;AACZ;AACAd,IAAAA,QAAQ,CAACN,SAAS,CAACoB,GAAG,CAACC,QAAJ,CAAaL,IAAd,CAAV,CAAR;AACAV,IAAAA,QAAQ,CAACW,iBAAiB,EAAlB,CAAR;AACD,GAhBD;AAiBD,CAvBM;AAyBP,OAAO,MAAMA,iBAAiB,GAAG,MAAM;AACrC,SAAO;AACLH,IAAAA,IAAI,EAAEf;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMuB,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLR,IAAAA,IAAI,EAAEhB;AADD,GAAP;AAGD,CAJM","sourcesContent":["import axios from \"axios\";\nimport {\n   CREATE_COMMENT,\n  TOGGLE_POSTS_LOADING,\n  TOGGLE_POST_LOADING,\n} from \"./types\";\n\nimport { setErrors, clearErrors } from \"./errorActions\";\n\n// '/api/posts/:id/comments'\n\nexport const createComment = (commentData, history, postId) => dispatch => {\n  // dispatch(togglePostLoading());\n  console.log(commentData);\n  console.log(\"commentData:\"+ JSON.stringify(commentData));\n  console.log(\"history:\"+ JSON.stringify(history));\n  console.log(\"postid:\"+postId);\n  axios\n  .post(`/api/posts/${postId}/comments/create`, commentData)\n  .then(res => {\n    // console.log(\"send:\"+res)\n    dispatch({\n      type: CREATE_COMMENT,\n      payload: res.data\n    });\n\n    dispatch(togglePostLoading());\n    history.push(`/blog/post/${postId}`);\n  })\n  .catch(err => {\n    // console.log(err)\n    dispatch(setErrors(err.response.data));\n    dispatch(togglePostLoading());\n  });\n};\n\nexport const togglePostLoading = () => {\n  return {\n    type: TOGGLE_POST_LOADING\n  };\n};\n\nexport const togglePostsLoading = () => {\n  return {\n    type: TOGGLE_POSTS_LOADING\n  };\n};"]},"metadata":{},"sourceType":"module"}