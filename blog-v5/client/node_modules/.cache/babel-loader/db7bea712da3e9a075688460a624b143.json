{"ast":null,"code":"import _defineProperty from \"/Users/mac/Documents/NEU /self-project1/covid/susan/bloggy/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/mac/Documents/NEU /self-project1/covid/susan/bloggy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Documents/NEU /self-project1/covid/susan/bloggy/client/src/containers/posts/CreateCommentPage.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport PostForm from \"../../components/posts/PostForm\";\nimport Validate from \"../../components/form/Validate\";\nimport { connect } from \"react-redux\";\nimport { createPost } from \"../../actions/postActions\";\n\nconst CreateCommentPage = ({\n  errors,\n  createPost,\n  loading,\n  history\n}) => {\n  const _useState = useState({\n    title: \"\",\n    body: \"\",\n    errors: {}\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        post = _useState2[0],\n        setPost = _useState2[1];\n\n  useEffect(() => {\n    setPost(post => {\n      return _objectSpread({}, post, {\n        errors\n      });\n    });\n  }, [errors]);\n\n  const handleChange = e => {\n    setPost(_objectSpread({}, post, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleBlur = e => {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n    const error = _objectSpread({}, post.errors, {}, Validate(name, value).errors);\n\n    setPost(_objectSpread({}, post, {\n      errors: _objectSpread({}, error)\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const title = post.title,\n          body = post.body;\n    createPost({\n      title,\n      body\n    }, history);\n  };\n\n  return React.createElement(PostForm, {\n    loading: loading,\n    post: post,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  });\n};\n\nconst mapStateToProps = state => ({\n  loading: state.post.postLoading,\n  errors: state.errors\n});\n\nCreatePostPage.propTypes = {\n  createPost: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired,\n  loading: PropTypes.bool.isRequired\n};\nexport default connect(mapStateToProps, {\n  createPost\n})(CreateCommentPage);","map":{"version":3,"sources":["/Users/mac/Documents/NEU /self-project1/covid/susan/bloggy/client/src/containers/posts/CreateCommentPage.js"],"names":["React","useState","useEffect","PropTypes","PostForm","Validate","connect","createPost","CreateCommentPage","errors","loading","history","title","body","post","setPost","handleChange","e","target","name","value","handleBlur","error","handleSubmit","preventDefault","mapStateToProps","state","postLoading","CreatePostPage","propTypes","func","isRequired","object","bool"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,2BAA3B;;AAEA,MAAMC,iBAAiB,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUF,EAAAA,UAAV;AAAsBG,EAAAA,OAAtB;AAA+BC,EAAAA;AAA/B,CAAD,KAA8C;AAAA,oBAC9CV,QAAQ,CAAC;AAC/BW,IAAAA,KAAK,EAAE,EADwB;AAE/BC,IAAAA,IAAI,EAAE,EAFyB;AAG/BJ,IAAAA,MAAM,EAAE;AAHuB,GAAD,CADsC;AAAA;AAAA,QAC/DK,IAD+D;AAAA,QACzDC,OADyD;;AAOtEb,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,OAAO,CAACD,IAAI,IAAI;AACd,+BAAYA,IAAZ;AAAkBL,QAAAA;AAAlB;AACD,KAFM,CAAP;AAGD,GAJQ,EAIN,CAACA,MAAD,CAJM,CAAT;;AAMA,QAAMO,YAAY,GAAGC,CAAC,IAAI;AACxBF,IAAAA,OAAO,mBACFD,IADE;AAEL,OAACG,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFrB,OAAP;AAID,GALD;;AAOA,QAAMC,UAAU,GAAGJ,CAAC,IAAI;AAAA,sBACEA,CAAC,CAACC,MADJ;AAAA,UACdC,IADc,aACdA,IADc;AAAA,UACRC,KADQ,aACRA,KADQ;;AAEtB,UAAME,KAAK,qBAAQR,IAAI,CAACL,MAAb,MAAwBJ,QAAQ,CAACc,IAAD,EAAOC,KAAP,CAAR,CAAsBX,MAA9C,CAAX;;AACAM,IAAAA,OAAO,mBAAMD,IAAN;AAAYL,MAAAA,MAAM,oBAAOa,KAAP;AAAlB,OAAP;AACD,GAJD;;AAMA,QAAMC,YAAY,GAAGN,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACO,cAAF;AADwB,UAEhBZ,KAFgB,GAEAE,IAFA,CAEhBF,KAFgB;AAAA,UAETC,IAFS,GAEAC,IAFA,CAETD,IAFS;AAGxBN,IAAAA,UAAU,CAAC;AAAEK,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,EAAkBF,OAAlB,CAAV;AACD,GAJD;;AAMA,SACI,oBAAC,QAAD;AACI,IAAA,OAAO,EAAED,OADb;AAEI,IAAA,IAAI,EAAEI,IAFV;AAGI,IAAA,QAAQ,EAAEE,YAHd;AAII,IAAA,MAAM,EAAEK,UAJZ;AAKI,IAAA,QAAQ,EAAEE,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AASD,CAzCD;;AA2CA,MAAME,eAAe,GAAGC,KAAK,KAAK;AAChChB,EAAAA,OAAO,EAAEgB,KAAK,CAACZ,IAAN,CAAWa,WADY;AAEhClB,EAAAA,MAAM,EAAEiB,KAAK,CAACjB;AAFkB,CAAL,CAA7B;;AAKAmB,cAAc,CAACC,SAAf,GAA2B;AACzBtB,EAAAA,UAAU,EAAEJ,SAAS,CAAC2B,IAAV,CAAeC,UADF;AAEzBtB,EAAAA,MAAM,EAAEN,SAAS,CAAC6B,MAAV,CAAiBD,UAFA;AAGzBrB,EAAAA,OAAO,EAAEP,SAAS,CAAC8B,IAAV,CAAeF;AAHC,CAA3B;AAMA,eAAezB,OAAO,CAClBmB,eADkB,EAElB;AAAElB,EAAAA;AAAF,CAFkB,CAAP,CAGbC,iBAHa,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport PostForm from \"../../components/posts/PostForm\";\nimport Validate from \"../../components/form/Validate\";\nimport { connect } from \"react-redux\";\nimport { createPost } from \"../../actions/postActions\";\n\nconst CreateCommentPage = ({ errors, createPost, loading, history }) => {\n  const [post, setPost] = useState({\n    title: \"\",\n    body: \"\",\n    errors: {}\n  });\n\n  useEffect(() => {\n    setPost(post => {\n      return { ...post, errors };\n    });\n  }, [errors]);\n\n  const handleChange = e => {\n    setPost({\n      ...post,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleBlur = e => {\n    const { name, value } = e.target;\n    const error = { ...post.errors, ...Validate(name, value).errors };\n    setPost({ ...post, errors: { ...error } });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const { title, body } = post;\n    createPost({ title, body }, history);\n  };\n\n  return (\n      <PostForm\n          loading={loading}\n          post={post}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          onSubmit={handleSubmit}\n      />\n  );\n};\n\nconst mapStateToProps = state => ({\n  loading: state.post.postLoading,\n  errors: state.errors\n});\n\nCreatePostPage.propTypes = {\n  createPost: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired,\n  loading: PropTypes.bool.isRequired\n};\n\nexport default connect(\n    mapStateToProps,\n    { createPost }\n)(CreateCommentPage);\n"]},"metadata":{},"sourceType":"module"}